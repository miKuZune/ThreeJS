<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <link rel="stylesheet" type="text/css" href="CSS/main.css">
    </head>

    <body>
        <script src="JS/Lib/three.js"></script>
        <script src="JS/GameManager.js"></script>
        <script src="JS/PlayerController.js"></script>
        <script src="JS/UtilityScripts/FollowTarget.js"></script>
        <script src="JS/CameraController.js"></script>
        <script src="JS/UtilityScripts/TwoD_Animator.js"></script>
        <script src="JS/Obstacle.js"></script>
        <script src="JS/ObstacleManager.js"></script>
        <script src="JS/UtilityScripts/DistanceMaths.js"></script>


        <div id="gameContainer">
            <canvas id="gameCanvas"></canvas>

        </div>

        <script>
            

            function NewGame()
            {
                var gameContainer = document.getElementById("gameContainer");

                while(gameContainer.firstChild)
                {
                    gameContainer.removeChild(gameContainer.firstChild);
                }
                
                // Start the gamemanager which will initalize the game and start it's loop.
                var GM = new GameManager();

                
            }

            // Create UI
            var body = document.body;

            var distanceTraveledText = document.createElement("h2");
            distanceTraveledText.innerHTML = "MILES TO HOME";

            body.appendChild(distanceTraveledText);

            distanceTraveledText.setAttribute("id", "distTraveledText");
            distanceTraveledText.setAttribute("class", "distText");

            var distanceOutputText = document.createElement("h2");
            distanceOutputText.innerHTML = "X.XX";
            distanceOutputText.setAttribute("id", "distTraveled");
            distanceOutputText.setAttribute("class", "distText");

            body.appendChild(distanceOutputText);


            var DistanceProgressBar = document.createElement("progress");
            DistanceProgressBar.setAttribute('id', 'distanceProgressBar');
            DistanceProgressBar.max = 100;

            body.appendChild(DistanceProgressBar);

            

            NewGame();
        </script>
    </body>

</html>